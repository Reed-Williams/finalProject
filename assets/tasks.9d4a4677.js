import{e as a}from"./vendor.26d13791.js";import{u as n}from"./index.44bd464a.js";const r=a("tasks",{state:()=>({list:[],session:n()}),actions:{async getAllAssignedTasks(){var s;const e=await this.session.api("tasks/assignedFor/"+((s=this.session.user)==null?void 0:s.username),void 0,"GET");this.list=e},async getAllCreatedTasks(){var s;const e=await this.session.api("tasks/assignedBy/"+((s=this.session.user)==null?void 0:s.username),void 0,"GET");this.list=e},async getAllUserTasksSorted(){var s;const e=await this.session.api("tasks/associatedWith/"+((s=this.session.user)==null?void 0:s.username),void 0,"GET");this.list=e.sort((t,i)=>new Date(t.dueDate).getTime()-new Date(i.dueDate).getTime())},async addNewTask(e){var t;this.session.user&&(e.assignedBy=(t=this.session.user)==null?void 0:t.username);const s=await this.session.api("tasks",e,"POST");this.list.push(s)},async updateTask(e){const s=e._id,t={completed:!e.completed};await this.session.api("tasks/"+s,t,"PATCH")}}});export{r as u};
